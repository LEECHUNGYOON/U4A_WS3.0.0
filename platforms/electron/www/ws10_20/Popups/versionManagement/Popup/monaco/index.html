<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Monaco Editor</title>
    <style>
        html,
        body,
        #container {
            margin: 0;
            height: 100%;
        }
    </style>

    <style>
        html,
        body {
            height: 100%;
            margin: 0;
            overflow: hidden;
        }

        #split-container {
            display: flex;
            flex-direction: row;
            /* ìˆ˜í‰ ë¶„í•  */
            height: 100%;
            width: 100%;
        }

        #editor-left,
        #editor-right {
            flex: 1;
            height: 100%;
        }

        #editor-left {
            border-right: 1px solid #444;
        }
    </style>

    <style>
        /* ê³µí†µ ìŠ¤í¬ë¡¤ë°” ì„¤ì • */
        .monaco-scrollable-element>.scrollbar {
            background: transparent !important;
            z-index: 10;
        }

        .monaco-scrollable-element>.scrollbar>.slider {
            background: rgba(128, 128, 128, 0.3) !important;
            /* íšŒìƒ‰ & íˆ¬ëª…ë„ */
            border-radius: 4px !important;
            transition: opacity 0.2s;
        }

        /* ìŠ¤í¬ë¡¤ë°” ê¸°ë³¸ì€ ìˆ¨ê¹€ */
        .monaco-scrollable-element>.scrollbar>.slider {
            opacity: 0;
        }

        /* ë§ˆìš°ìŠ¤ ì˜¤ë²„ ì‹œ ë‚˜íƒ€ë‚¨ */
        .monaco-scrollable-element:hover>.scrollbar>.slider {
            opacity: 1;
        }

        /* ì‚¬ì´ì¦ˆ ì¡°ì ˆ */
        .monaco-scrollable-element>.scrollbar.vertical {
            width: 6px !important;
        }

        .monaco-scrollable-element>.scrollbar.horizontal {
            height: 6px !important;
        }
    </style>


    <script>

/****************************************************************************
 * ğŸ”¥ Global Variables
 ****************************************************************************/
    const
        oAPP = {};
        oAPP.params = {};
        oAPP.attr = {};
        // oAPP.oModel = parent.oAPP.views.VW_MAIN.oModel;

    // ë¶€ëª¨ì˜ ë¶€ëª¨ ê°ì²´(í• ì•„ë²„ì§€ ê°ì²´)
    const GRAND_FATHER = parent.parent;    
        
    // ë¶€ëª¨ì™€ í†µì‹ í•˜ê¸° ìœ„í•œ ì»¤ìŠ¤í…€ ì´ë²¤íŠ¸ìš© DOM
    let sCustDomId = "if-editor";
    
    oAPP.attr.oCustomEvtDom = parent.document.getElementById(sCustDomId);

/****************************************************************************
 * ğŸ”¥ Npm Library
 ****************************************************************************/        
    const PATH = GRAND_FATHER.PATH;
    const FS   = GRAND_FATHER.FS;
    const APPPATH = GRAND_FATHER.APPPATH;      
        

/****************************************************************************
 * ğŸ”¥ Paths
 ****************************************************************************/        

    // USP root ê²½ë¡œ
    const USP_ROOT_PATH = GRAND_FATHER.PATHINFO.USP_ROOT;

    // ëª¨ë‚˜ì½” ì—ë””í„° ê´€ë ¨ ê²½ë¡œ
    const MONACO_LIB_PATH = PATH.join(APPPATH, "lib", "monaco");
    const MONACO_VS_ROOT_PATH = PATH.join(MONACO_LIB_PATH, "vs");
    const MONACO_LOADER_PATH  = PATH.join(MONACO_VS_ROOT_PATH, "loader.js");


    function onLoad() {

        var loaderScript = document.createElement('script');
        loaderScript.src = 'index.js'; // â† ê²½ë¡œ ì •í™•íˆ

        document.head.append(loaderScript);
    };        


    window.addEventListener('message', (oEvent) => {

        // íŒŒë¼ë¯¸í„°ê°€ ì—†ì„ ê²½ìš° ë¹ ì ¸ë‚˜ê°
        let oParams = oEvent?.data || undefined;
        if(!oParams){
            return;
        }

        // ì•¡ì…˜ì½”ë“œê°€ ì—†ë‹¤ë©´ ë¹ ì ¸ë‚˜ê°
        let sActcd = oParams?.actcd || "";
        if(!sActcd){
            return;
        }

        // ì „ë‹¬ë°›ì€ íŒŒë¼ë¯¸í„° ì¤‘, ACTION CODE(actcd) ë³„ í”„ë¡œì„¸ìŠ¤ ë¶„ê¸°
        switch (sActcd) { 

            case "setCompareData": 

                _setCompareCode(oParams?.PARAM);

                return;

            case "moveNextChangedCode":

                diffNavigator.next();

                return;

            case "movePreviousChangedCode":

                diffNavigator.previous();
                
                return;


            default:
                break;
        }

    });
        
    window.addEventListener("DOMContentLoaded", function () {
        
        var loaderScript = document.createElement('script');
        loaderScript.src = MONACO_LOADER_PATH;

        document.head.append(loaderScript);

        loaderScript.onload = onLoad;        
        
    });
       
    </script>

</head>

<body>

    <div id="content" style="height:100%;"></div>
  
</body>

</html>